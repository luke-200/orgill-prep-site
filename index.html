<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Orgill PREP Program</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color-scheme: light;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: #f5f5f7;
      color: #1f2933;
      line-height: 1.6;
    }

    header {
      background: #b80000;
      color: #ffffff;
      padding: 1.25rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 0.75rem;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    }

    header .brand {
      font-size: 1.35rem;
      font-weight: 700;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    header nav a {
      color: #ffecec;
      text-decoration: none;
      font-size: 0.95rem;
      margin-left: 1rem;
      padding-bottom: 0.1rem;
      border-bottom: 1px solid transparent;
    }

    header nav a:hover {
      border-bottom-color: #ffecec;
    }

    main {
      width: 100%;
      margin: 1.75rem auto 2.5rem;
      padding: 0 2rem;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: 1fr;
      }
      header {
        justify-content: center;
        text-align: center;
      }
      header nav {
        width: 100%;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
      }
    }

    .card {
      background: #ffffff;
      border-radius: 0.85rem;
      padding: 1.2rem 1.4rem;
      box-shadow: 0 2px 10px rgba(15, 23, 42, 0.06);
      border: 1px solid #e5e7eb;
      margin-bottom: 1.5rem;
    }

    .card h2 {
      font-size: 1.2rem;
      margin-bottom: 0.65rem;
      color: #111827;
    }

    .card h3 {
      font-size: 1rem;
      margin-top: 0.8rem;
      margin-bottom: 0.3rem;
      color: #111827;
    }

    p {
      margin-bottom: 0.4rem;
      font-size: 0.95rem;
    }

    ul {
      margin-left: 1.1rem;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
    }

    .muted {
      font-size: 0.9rem;
      color: #6b7280;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      padding: 0.2rem 0.6rem;
      font-size: 0.8rem;
      background: #f9fafb;
      margin-right: 0.35rem;
      margin-top: 0.15rem;
    }

    .summary-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 0.6rem;
      margin-top: 0.6rem;
      margin-bottom: 0.85rem;
      font-size: 0.9rem;
    }

    .summary-item {
      padding: 0.45rem 0.65rem;
      border-radius: 999px;
      background: #f3f4f6;
      border: 1px solid #e5e7eb;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
      margin-top: 0.4rem;
    }

    th, td {
      padding: 0.45rem 0.4rem;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
    }

    thead th {
      background: #f3f4f6;
      font-weight: 600;
    }

    tbody tr:nth-child(even) {
      background: #fafafa;
    }

    .row-next {
      background: #ecfdf5 !important;
    }

    .row-today {
      outline: 2px solid #2563eb;
      outline-offset: -2px;
    }

    .pdf-embed {
      border: 1px solid #d1d5db;
      border-radius: 0.5rem;
      margin-top: 0.4rem;
      margin-bottom: 0.4rem;
      width: 100%;
      height: 380px;
    }

    footer {
      text-align: center;
      font-size: 0.8rem;
      color: #9ca3af;
      padding: 1.5rem 0 1rem;
    }

    a {
      color: #b80000;
    }
  </style>
</head>

<body>
  <header>
    <div class="brand">Orgill PREP</div>
    <nav>
      <a href="#about">Overview</a>
      <a href="#options">PREP Options</a>
      <a href="#documents">Documents</a>
      <a href="#calendar">Calendar</a>
      <a href="#contact">Contacts</a>
    </nav>
  </header>

  <main>
    <div>
      <section class="card" id="about">
        <h2>Pricing Review and Evaluation Program (PREP)</h2>
        <p>
          The Pricing Review and Evaluation Program (PREP) is Orgillâ€™s biweekly pricing maintenance
          service that updates customer retail pricing based on the latest vendor costs and market benchmarks.
        </p>
      </section>

      <section class="card" id="options">
        <h2>PREP Options</h2>

        <h3>PREP Option 1</h3>
        <p>Electronic PREP delivery designed for automated POS loading.</p>

        <h3>PREP Option 2</h3>
        <p>PREP reports delivered in spreadsheet or report format for manual review.</p>
      </section>

      <section class="card" id="documents">
        <h2>PREP Documents</h2>
        <p class="muted">
          Reference document explaining PREP reports such as Retail Price Alerts and purchase history updates.
        </p>

        <h3>PREP Report Details</h3>
        <embed class="pdf-embed" src="Prep-Report-Details.pdf" type="application/pdf" />
        <p><a href="Prep-Report-Details.pdf" download>Download PREP Report Details PDF</a></p>
      </section>
    </div>

    <div>
      <section class="card" id="calendar">
        <h2>PREP Calendar</h2>
        <p>
          PREP runs occur every other Saturday. The schedule below displays all runs from the next
          upcoming PREP date through December 31, 2026.
        </p>

        <div class="summary-row">
          <div class="summary-item"><strong>Today:</strong> <span id="todayLabel"></span></div>
          <div class="summary-item"><strong>Next PREP run:</strong> <span id="nextRunLabel"></span></div>
          <div class="summary-item"><strong>Runs shown:</strong> <span id="runCountLabel"></span></div>
          <div class="summary-item"><strong>Countdown:</strong> <span id="countdownLabel"></span></div>
        </div>

        <table>
          <thead>
            <tr>
              <th>#</th>
              <th>Date</th>
              <th>Weekday</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody id="scheduleBody"></tbody>
        </table>
      </section>

      <section class="card" id="contact">
        <h2>PREP Contacts</h2>
        <p><strong>Pricing Department</strong><br>Orgill, Inc.</p>
        <p><strong>Jackie Bacon</strong><br>Vice President<br>Extension 6523</p>
        <p><strong>Luke Houston</strong><br>Pricing Analytics Specialist<br>Extension 2182</p>
      </section>
    </div>
  </main>

  <footer>
    Orgill PREP calendar and reference information through 2026
  </footer>

  <script>
    // PREP cycle anchor date requested: first PREP run on 12/20/2025
    const ANCHOR_PREP_DATE = new Date("2025-12-20T00:00:00");
    const END_DATE = new Date("2026-12-31T00:00:00");

    function stripTime(d) {
      return new Date(d.getFullYear(), d.getMonth(), d.getDate());
    }

    function formatDate(d) {
      return d.toLocaleDateString(undefined, { year: "numeric", month: "short", day: "numeric" });
    }

    function weekdayName(d) {
      return d.toLocaleDateString(undefined, { weekday: "long" });
    }

    function getNextPrepDate(today, anchor) {
      const cleanToday = stripTime(today);
      const cleanAnchor = stripTime(anchor);
      if (cleanToday <= cleanAnchor) return cleanAnchor;

      const daysBetween = Math.floor((cleanToday - cleanAnchor) / 86400000);
      const cycles = Math.ceil(daysBetween / 14);
      const next = new Date(cleanAnchor);
      next.setDate(cleanAnchor.getDate() + cycles * 14);
      return next;
    }

    function buildSchedule() {
      const today = new Date();
      const cleanToday = stripTime(today);

      document.getElementById("todayLabel").textContent = formatDate(today);

      if (cleanToday > END_DATE) {
        document.getElementById("nextRunLabel").textContent = "Schedule ended";
        document.getElementById("countdownLabel").textContent = "Ended on Dec 31, 2026";
        document.getElementById("runCountLabel").textContent = "0";
        return;
      }

      const nextPrep = getNextPrepDate(today, ANCHOR_PREP_DATE);
      document.getElementById("nextRunLabel").textContent = formatDate(nextPrep);

      const diffDays = Math.round((stripTime(nextPrep) - cleanToday) / 86400000);
      document.getElementById("countdownLabel").textContent =
        diffDays === 0 ? "PREP is today" :
        diffDays === 1 ? "1 day" :
        diffDays + " days";

      const tbody = document.getElementById("scheduleBody");
      tbody.innerHTML = "";

      let runs = [];
      let index = 0;
      while (true) {
        const d = new Date(nextPrep);
        d.setDate(nextPrep.getDate() + index * 14);
        if (stripTime(d) > END_DATE) break;
        runs.push(d);
        index++;
      }

      document.getElementById("runCountLabel").textContent = runs.length;

      runs.forEach((runDate, i) => {
        const row = document.createElement("tr");

        if (stripTime(runDate).getTime() === stripTime(nextPrep).getTime()) {
          row.classList.add("row-next");
        }
        if (stripTime(runDate).getTime() === cleanToday.getTime()) {
          row.classList.add("row-today");
        }

        row.innerHTML = `
          <td>${i + 1}</td>
          <td>${formatDate(runDate)}</td>
          <td>${weekdayName(runDate)}</td>
          <td>${stripTime(runDate).getTime() === stripTime(nextPrep).getTime() ? "Next PREP run" : "Standard PREP run"}</td>
        `;

        tbody.appendChild(row);
      });
    }

    document.addEventListener("DOMContentLoaded", buildSchedule);
  </script>

</body>
</html>
